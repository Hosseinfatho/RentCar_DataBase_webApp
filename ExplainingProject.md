# Project Explanation: Car Rental Web Application

This project is a web application for managing a car rental system. The application allows different user roles (such as Manager, Client, Driver) to interact with the system.

## Technologies Used

*   **Frontend:** React (using Vite) and modern CSS3
*   **Backend:** Python with the Flask framework
*   **Database:** PostgreSQL
*   **Authentication:** JSON Web Tokens (JWT) using Flask-JWT-Extended

## Manager Component Features

The Managers section provides a set of tools and reports for managing various aspects of the car rental system. The following features have been implemented so far:

### 1. Secure Registration and Login

*   **Initial Registration with Pincode:** For the initial system setup, **only the very first manager** can register by entering their information (Name, SSN, Email) along with a **fixed pincode (`1234`)**. After the successful registration of the first manager, registration via this form is blocked.
*   **Login with SSN:** Registered managers can log in using their Social Security Number (SSN).
*   **JWT Authentication:** Upon successful login, a JWT is generated for the manager and stored in the browser (localStorage). All sensitive managerial operations (like adding/removing or reporting) require sending this valid token in the `Authorization` header.
*   **Secure Logout:** When logging out, the token is cleared from localStorage, revoking access to managerial sections.

### 2. Car Management

*   **Add Car:** Managers can add new cars to the system by entering specifications (Make, Model, Year). A unique `CARID` is generated by the system for each car.
*   **Remove Car:** Managers can remove cars based on their specifications (Make, Model, Year). Before deletion, the system checks if the car is referenced in rents (`RENT`), more specific models (`MODEL`), or driver assignments (`DRIVES`), preventing deletion if dependencies exist.

### 3. Driver Management

*   **Add Driver:** Managers can add new drivers with their name and full address (Road Name, Number, City, Zip Code). The address is first inserted into the `ADDRESS` table (or left unchanged if it exists - upsert logic), and then the driver is added with a reference to that address.
*   **Remove Driver:** Managers can remove drivers by name. The system checks for dependencies in the `RENT`, `REVIEW`, and `DRIVES` tables before deletion.

### 4. Reporting

Managers have access to various reports for analyzing system performance:

*   **Top-K Clients:** Displays a list of the top K clients based on the total number of rents (Name, Email, Rent Count).
*   **Car Model Rent Counts:** Displays a list of all car models (Make, Model, Year) along with the number of times each model has been rented (includes models never rented with a count of 0).
*   **Driver Performance Stats:** Displays a list of all drivers along with their total number of rents and average received rating (rounded to one decimal place, 0 values for drivers with no rents/ratings).
*   **Client Report by City Criteria:** Displays a list of clients who have at least one address in city C1 and have booked at least one rent with a driver whose address is in city C2.
*   **Problematic Local Drivers:** Displays a list of drivers whose address is in 'Chicago', have an average rating below 2.5, and have driven in at least two separate rents booked by at least two distinct clients who also have an address in 'Chicago'.
*   **Car Brand Performance:** Displays statistics for each car brand (Make), including the average rating of drivers who can drive at least one model of that brand, and the total number of rents involving a model of that brand.

### 5. Enhanced Appearance with CSS3

The styles for the manager component have been improved using modern CSS3 techniques (like CSS variables, Flexbox with `gap`, `box-shadow`) to provide a more user-friendly, responsive appearance that supports system light/dark themes.

---
*This explanation file is based on the features implemented up to this point.* 